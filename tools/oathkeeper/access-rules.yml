[
  {
    'id': 'allow-all-rts-app',
    'upstream': { 'preserve_host': true, 'url': 'http://rts-backend-rts-app-envoy:8080' },
    'match': { 'url': '<https|http>://<.*>/rts.v1<.*>', 'methods': ['POST'] },
    'authenticators': [{ 'handler': 'noop' }],
    'authorizer': { 'handler': 'allow' },
    'mutators': [{ 'handler': 'noop' }],
  },
  {
    'id': 'allow-all-paperless-app',
    'upstream': { 'preserve_host': true, 'url': 'http://paperless-app-envoy:8080' },
    'match': { 'url': '<https|http>://<.*>/paperless.v1<.*>', 'methods': ['POST'] },
    'authenticators': [{ 'handler': 'noop' }],
    'authorizer': { 'handler': 'allow' },
    'mutators': [{ 'handler': 'noop' }],
  },
  {
    'id': 'work-orders-app',
    'upstream': { 'preserve_host': true, 'url': 'http://work-orders-app-envoy:8080' },
    'match': { 'url': '<https|http>://<.*>/work_orders.v1<.*>', 'methods': ['POST'] },
    'authenticators': [{ 'handler': 'bearer_token' }],
    'authorizer': { 'handler': 'allow' },
    'mutators': [{ 'handler': 'header' }],
  },
  {
    'id': 'triggers-app',
    'upstream': { 'preserve_host': true, 'url': 'http://triggers-app-envoy:8080' },
    'match': { 'url': '<https|http>://<.*>/triggers.v1<.*>', 'methods': ['POST'] },
    'authenticators': [{ 'handler': 'bearer_token' }],
    'authorizer': { 'handler': 'allow' },
    'mutators': [{ 'handler': 'header' }],
  },
  {
    'id': 'skills-app',
    'upstream': { 'preserve_host': true, 'url': 'http://skills-app:8080' },
    'match':
      {
        'url': '<https|http>://<.*>/skills/v1<.*>',
        'methods': ['GET', 'POST', 'PUT', 'PATCH', 'DELETE'],
      },
    'authenticators': [{ 'handler': 'bearer_token' }],
    'authorizer': { 'handler': 'allow' },
    'mutators': [{ 'handler': 'header' }],
  },
  {
    'id': 'allow-all-paperless-manager-app',
    'upstream': { 'preserve_host': true, 'url': 'http://paperless-manager-app-envoy:8080' },
    'match': { 'url': '<https|http>://<.*>/paperless_manager.v1<.*>', 'methods': ['POST'] },
    'authenticators': [{ 'handler': 'noop' }],
    'authorizer': { 'handler': 'allow' },
    'mutators': [{ 'handler': 'noop' }],
  },
  {
    'id': 'assets-app',
    'upstream': { 'preserve_host': true, 'url': 'http://assets-app-envoy:8080' },
    'match': { 'url': '<https|http>://<.*>/assets.v1<.*>', 'methods': ['POST'] },
    'authenticators': [{ 'handler': 'bearer_token' }],
    'authorizer': { 'handler': 'allow' },
    'mutators': [{ 'handler': 'header' }],
  },
  {
    'id': 'comments-app',
    'upstream': { 'preserve_host': true, 'url': 'http://comments-app-envoy:8080' },
    'match': { 'url': '<https|http>://<.*>/comments.v1<.*>', 'methods': ['POST'] },
    'authenticators': [{ 'handler': 'bearer_token' }],
    'authorizer': { 'handler': 'allow' },
    'mutators': [{ 'handler': 'header' }],
  },
  {
    'id': 'cmms-stats-app',
    'upstream': { 'preserve_host': true, 'url': 'http://cmms-stats-app-envoy:8080' },
    'match': { 'url': '<https|http>://<.*>/cmms_stats.v1<.*>', 'methods': ['POST'] },
    'authenticators': [{ 'handler': 'bearer_token' }],
    'authorizer': { 'handler': 'allow' },
    'mutators': [{ 'handler': 'header' }],
  },
  {
    'id': 'oauth2-protected-services-sap-write',
    'upstream': { 'url': 'http://aosmgmt01-an-dev-rsi.antsolutions.cloud:8000' },
    'match': { 'url': '<https|http>://<.*>/services/SAP<.*>', 'methods': ['POST'] },
    'authenticators':
      [
        {
          'handler': 'bearer_token',
          'config': { 'check_session_url': 'http://oauth2-server-app:9127/auth/validate' },
        },
      ],
    'authorizer': { 'handler': 'allow' },
    'mutators': [{ 'handler': 'noop' }],
  },
  {
    'id': 'inventory-app',
    'upstream': { 'preserve_host': true, 'url': 'http://inventory-app-envoy:8080' },
    'match': { 'url': '<https|http>://<.*>/inventory.v1<.*>', 'methods': ['POST'] },
    'authenticators': [{ 'handler': 'bearer_token' }],
    'authorizer': { 'handler': 'allow' },
    'mutators': [{ 'handler': 'header' }],
  },
    {
    'id': 'spare-parts-app',
    'upstream': { 'preserve_host': true, 'url': 'http://spare-parts-app-envoy:8080' },
    'match': { 'url': '<https|http>://<.*>/spare_parts.v1<.*>', 'methods': ['POST'] },
    'authenticators': [{ 'handler': 'bearer_token' }],
    'authorizer': { 'handler': 'allow' },
    'mutators': [{ 'handler': 'header' }],
  },
]
